# Fesfolio Timetable Viewer

ローカルだけで動作する簡易ビューアです。イベントのタイムテーブルJSONを読み込み、ステージごとに枠を一覧表示します。

## 使い方

1. このフォルダの `index.html` をブラウザで開く（Chrome/Edge 推奨）。
2. `events/2025/` などの JSON ファイルをページ上にドラッグ＆ドロップするか、「JSONファイルを選択」から選ぶ。
3. スキーマ検証結果と概要が表示され、タイムテーブルがレンダリングされます。
4. ステージ絞り込みや検索を使って表示を調整できます。ダークモードもあります。

補足:
- `file://` で開いた場合、`fetch` による相対ファイルの読込（例: サンプルやスキーマ取得）がブラウザ設定によりブロックされることがあります。その場合はドラッグ＆ドロップを使ってください。
- ローカルHTTPサーバーを使うと制限が緩和されます。Pythonがあれば以下のように実行できます（任意）。

```powershell
# リポジトリのルートで
python -m http.server 8000
# http://localhost:8000/fesfolio-data/viewer/index.html を開く
```

## JSONスキーマ検証

CDN経由の AJV を使用し、`schemas/event.schema.json` を取得して検証します。`file://` での取得が失敗したら、検証結果欄にメッセージが表示されます。

## ファイル構成

- `index.html` … ビューア本体
- `style.css` … スタイル
- `app.js` … ロジック（読込/検証/レンダリング）

## 既知の仕様

- スキーマのフィールド名が異なるケースでも表示できるよう、ある程度の名称揺れに対応しています（`stages|stage_list`, `slots|schedule|items`, `performer|artist|name`, `start|start_time`, `end|end_time` 等）。
- 開始時刻が不明な枠は下部に並びます。

## 改善候補

- 時間グリッド（ガントチャート風）表示
- グループ/出演者のカラーリング
- 画像出力（PNG/印刷）
